---
import Icon from "./Icon.astro"
---

<div class="sun-icon-container">
  <Icon of="sun" />
</div>

<div class="moon-icon-container">
  <Icon of="moon" />
</div>

<style>
:root:not(.dark) .sun-icon-container {
  display: none;
}

:root.dark .moon-icon-container {
  display: none;
}
</style>

<script>
const sun = document.querySelector('.sun-icon-container');
const moon = document.querySelector('.moon-icon-container');
const root = document.querySelector('html')

sun?.addEventListener('click', () => {
  root?.classList.remove('dark')
  localStorage.setItem('theme', 'light')
})

moon?.addEventListener('click', () => {
  root?.classList.add('dark')
  localStorage.setItem('theme', 'dark')
})
</script>
